<!DOCTYPE html>
<html lang="ko">

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>HTML Generator Test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8" />

  <base href="../src/">
  <link rel="stylesheet" href="css/tingle.css">
  <link rel="stylesheet" href="css/ruliweb-hots.css">

  <style>
    .content {
      width: 45%;
      font-size: 12px;
      font-family: 돋움, dotum, sans-serif;
      border: thin solid black;
      padding: 1em;
      float: left;
    }

    table {
      border-collapse: collapse;
    }
  </style>
</head>

<body>
  <section class="content">

    <h2>영웅</h2>

    <table style="border: 2px solid #726bd6; background-color: #0d0b29; color: #e8fee7">
      <tr style="background-color: #1e1a4c">
        <td rowspan="2" style="padding: .5em; border: 1px solid #726bd6; width: 64px; vertical-align: top; background-color: #181881">
          <img style="width: 100%" src="http://i2.ruliweb.com/img/18/06/14/163fc227f7919dc2c.png" alt="피닉스 (원거리 암살자)">
        </td>
        <td style="padding: .5em; border: 1px solid #726bd6; text-align: center">
          <b style="color: #66ccec">피닉스 (Fenix)</b>
        </td>
        <td style="padding: .5em; border: 1px solid #726bd6; text-align: center; width: 10em">
          <b style="color: #66ccec">원거리 암살자</b>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="padding: .5em; border: 1px solid #726bd6">
          <img style="width: 48px; margin: 0 .25em" src="http://i1.ruliweb.com/img/18/06/15/163ffc7437c19dc2c.png" alt="고유 능력 - 보호막 축전기 (Shield Capacitor)">
          <img style="width: 48px; margin: 0 .25em" src="http://i3.ruliweb.com/img/18/06/15/163ffc7477e19dc2c.png" alt="Q - 플라스마 절단기 (Plasma Cutter)">
          <img style="width: 48px; margin: 0 .25em" src="http://i3.ruliweb.com/img/18/06/15/163ffc77a0019dc2c.png" alt="W - 무기 모드: 연발포 (Weapon Mode: Repeater Cannon)">
          <img style="width: 48px; margin: 0 .25em" src="http://i1.ruliweb.com/img/18/06/15/163ffc77af819dc2c.png" alt="W - 무기 모드: 위상 폭탄 (Weapon Mode: Phase Bomb)">
          <img style="width: 48px; margin: 0 .25em" src="http://i1.ruliweb.com/img/18/06/15/163ffc745d819dc2c.png" alt="E - 차원이동 (Warp)">
          <img style="width: 48px; margin: 0 .25em" src="http://i3.ruliweb.com/img/18/06/15/163ffc7484d19dc2c.png" alt="R - 정화 개시 (Purification Salvo)">
          <img style="width: 48px; margin: 0 .25em" src="http://i1.ruliweb.com/img/18/06/15/163ffc7491819dc2c.png" alt="R - 행성 분열기 (Planet Cracker)">
        </td>
      </tr>
      <tr>
        <td colspan="3" style="padding: .25em .5em; border: 1px solid #726bd6; text-align: right">
          <i>패치 34.1</i>
        </td>
      </tr>
    </table>

    <h2>기술</h2>

    <table style="width: 100%; border: 2px solid #8955dd; background-color: #1a0a33; color: #f2fee7">
      <tr style="background-color: #170723">
        <td rowspan="2" style="padding: .5em; border: 1px solid #8955dd; width: 64px; vertical-align: top; background-color: #411980">
          <img style="width: 100%" src="http://i3.ruliweb.com/img/18/06/15/163ffc7477e19dc2c.png" alt="플라즈마 커터 (Q)">
        </td>
        <td style="padding: .5em; border: 1px solid #8955dd; text-align: center">
          <b style="color: #eebbff">플라즈마 절단기 (Plasma Cutter)</b>
        </td>
        <td style="padding: .5em; border: 1px solid #8955dd; text-align: center; width: 30%">
          <b style="color: #eebbff">Q</b>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="padding: .5em; border: 1px solid #8955dd">
          대상 위치에 광선을 발사합니다. 광선은 피닉스를 중심으로 주위를 원형으로 두 번 돌며 적에게 140(+4%)의 피해를 주고 4초 동안 25% 느려지게 합니다.
          <br>
          <br>
          <span style="color:#d9d9d9">
            <strong>재사용 대기시간</strong> 12초</span>
          <br>
          <span style="color:#cc9999">
            <strong>회전 반경</strong> 1.5 ~ 6
            <strong>너비</strong> 0.7
            <strong>회전 시간</strong> 1.5초
          </span>
        </td>
      </tr>
      <tr>
        <td colspan="3" style="padding: .25em .5em; border: 1px solid #8955dd; text-align: right">
          <i>패치 34.1</i>
        </td>
      </tr>
    </table>

    <h2>특성</h2>

    <table style="width: 100%; border: 2px solid #5353df; background-color: #0b0b3b; color: #eefee7">
      <tr style="background-color: #08082b">
        <td rowspan="2" style="padding: .5em; border: 1px solid #5353df; width: 48px; vertical-align: top; background-color: #181881">
          <img style="width: 100%" src="http://i3.ruliweb.com/img/18/06/15/163ffc77a0019dc2c.png" alt="목표 확인 (능력 강화(W))">
        </td>
        <td style="padding: .5em; border: 1px solid #5353df; text-align: center">
          <b style="color: #66ccec">목표 확인 (Target Acquired)</b>
        </td>
        <td style="padding: .5em; border: 1px solid #5353df; text-align: center; width: 30%">
          <b style="color: #66ccec">능력 강화 (W)</b>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="padding: .5em; border: 1px solid #5353df">
          느려진 적 영웅을 연발포로 일반 공격하면 이동 속도가 4초 동안 10% 증가하여 최대 40% 증가합니다.
        </td>
      </tr>
      <tr>
        <td colspan="3" style="padding: .25em .5em; border: 1px solid #5353df; text-align: right">
          <i>패치 34.1</i>
        </td>
      </tr>
    </table>

    <h2>특성 (여러 개)</h2>

    <table style="width: 100%; border: 2px solid #5353df; background-color: #0b0b3b; color: #eefee7">
      <tr style="background-color: #08082b">
        <td rowspan="2" style="padding: .5em; border: 1px solid #5353df; width: 48px; vertical-align: top; background-color: #181881">
          <img style="width: 100%" src="http://i3.ruliweb.com/img/18/06/15/163ffc77a0019dc2c.png" alt="목표 확인 (능력 강화(W))">
        </td>
        <td style="padding: .5em; border: 1px solid #5353df; text-align: center">
          <b style="color: #66ccec">목표 확인 (Target Acquired)</b>
        </td>
        <td style="padding: .5em; border: 1px solid #5353df; text-align: center; width: 30%">
          <b style="color: #66ccec">능력 강화 (W)</b>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="padding: .5em; border: 1px solid #5353df">
          느려진 적 영웅을 연발포로 일반 공격하면 이동 속도가 4초 동안 10% 증가하여 최대 40% 증가합니다.
        </td>
      </tr>
      <tr style="background-color: #08082b">
        <td rowspan="2" style="padding: .5em; border: 1px solid #5353df; width: 48px; vertical-align: top; background-color: #181881">
          <img style="width: 100%" src="http://i3.ruliweb.com/img/18/06/15/163ffc77a0019dc2c.png" alt="목표 확인 (능력 강화(W))">
        </td>
        <td style="padding: .5em; border: 1px solid #5353df; text-align: center">
          <b style="color: #66ccec">목표 확인 (Target Acquired)</b>
        </td>
        <td style="padding: .5em; border: 1px solid #5353df; text-align: center; width: 30%">
          <b style="color: #66ccec">능력 강화 (W)</b>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="padding: .5em; border: 1px solid #5353df">
          느려진 적 영웅을 연발포로 일반 공격하면 이동 속도가 4초 동안 10% 증가하여 최대 40% 증가합니다.
        </td>
      </tr>
      <tr>
        <td colspan="3" style="padding: .25em .5em; border: 1px solid #5353df; text-align: right">
          <i>패치 34.1</i>
        </td>
      </tr>
    </table>

  </section>

  <section class="content" id="generated_content"></section>

  <script src="js/axios.js"></script>
  <script src="js/tingle.js"></script>
  <script src="js/mustache.js"></script>
  <script>
    //Dummy hero data for testing
    const hero = {
      name: '피닉스',
      type: '원거리 암살자',
      iconUrl: 'http://i2.ruliweb.com/img/18/06/14/163fc227f7919dc2c.png',
      skills: [
        {
          name: '보호막 축전기 (Shield Capacitor)',
          type: '고유 능력',
          description: null,
          iconUrl: 'http://i1.ruliweb.com/img/18/06/15/163ffc7437c19dc2c.png'
        },
        {
          name: '플라즈마 절단기 (Plasma Cutter)',
          type: 'Q',
          description: '대상 위치에 광선을 발사합니다. 광선은 피닉스를 중심으로 주위를 원형으로 두 번 돌며 적에게 140(+4%)의 피해를 주고 4초 동안 25% 느려지게 합니다.<br><br>재사용 대기시간 12초<br>회전 반경 1.5 ~ 6 너비 0.7 회전 시간 1.5초',
          iconUrl: 'http://i3.ruliweb.com/img/18/06/15/163ffc7477e19dc2c.png'
        },
        {
          name: '무기 모드: 연발포 (Weapon Mode: Repeater Cannon)',
          type: 'W',
          description: null,
          iconUrl: 'http://i3.ruliweb.com/img/18/06/15/163ffc77a0019dc2c.png'
        },
        {
          name: '무기 모드: 위상 폭탄 (Weapon Mode: Phase Bomb)',
          type: 'W',
          description: null,
          iconUrl: 'http://i1.ruliweb.com/img/18/06/15/163ffc77af819dc2c.png'
        },
        {
          name: '차원이동 (Warp)',
          type: 'E',
          description: null,
          iconUrl: 'http://i1.ruliweb.com/img/18/06/15/163ffc745d819dc2c.png'
        },
        {
          name: '정화 개시 (Purification Salvo)',
          type: 'R',
          description: null,
          iconUrl: 'http://i3.ruliweb.com/img/18/06/15/163ffc7484d19dc2c.png'
        },
        {
          name: '행성 분열기 (Planet Cracker)',
          type: 'R',
          description: null,
          iconUrl: 'http://i1.ruliweb.com/img/18/06/15/163ffc7491819dc2c.png'
        }
      ],
      talents: {
        "4": [
          {
            name: '목표 확인 (Target Acquired)',
            type: '능력 강화 (W)',
            level: 4,
            description: '느려진 적 영웅을 연발포로 일반 공격하면 이동 속도가 4초 동안 10% 증가하여 최대 40% 증가합니다.',
            iconUrl: 'http://i3.ruliweb.com/img/18/06/15/163ffc77a0019dc2c.png'
          }
        ]
      }
    }


    const genContent = document.getElementById('generated_content');

    //Generate hero description
    axios.get('templates/insert-hero.mustache', { responseType: 'text' })
      .then(response => {
        const html = Mustache.render(response.data, { hero, hotsVersion: '34.1' });

        const div = document.createElement('div');
        div.innerHTML = '<h2>영웅</h2>' + html;
        genContent.appendChild(div);
      });

    //Generate skill description
    axios.get('templates/insert-skill.mustache', { responseType: 'text' })
      .then(response => {
        const html = Mustache.render(response.data, { skill: hero.skills[1], hotsVersion: '34.1' });

        const div = document.createElement('div');
        div.innerHTML = '<h2>기술</h2>' + html;
        genContent.appendChild(div);
      });

    //Generate talent description
    axios.get('templates/insert-talent.mustache', { responseType: 'text' })
      .then(response => {
        const html = Mustache.render(response.data, { talent: hero.talents["4"][0], hotsVersion: '34.1' });

        const div = document.createElement('div');
        div.innerHTML = '<h2>특성</h2>' + html;
        genContent.appendChild(div);
      });
  </script>
</body>

</html>